@model IEnumerable<InstagramMVC.Models.Comment>

<div class="comments-section">
    @foreach (var comment in Model)
    {
        <div class="comment mb-2">
            <strong>@(comment.UserName?.Contains("@") == true ? comment.UserName.Split('@')[0] : comment.UserName):</strong>
            <span>@comment.CommentDescription</span>
            <div class="text-muted">
                <small>Published: @comment.CommentTime.ToString("yyyy-MM-dd HH:mm")</small>
                
                @if (User.Identity?.Name == comment.UserName)
                {
                    <span class="comment-actions ms-3">
                        <a asp-action="EditCommentNote" asp-controller="Comment" asp-route-id="@comment.CommentId" class="text-decoration-none text-primary me-2">Edit</a>
                        <a asp-action="DeleteCommentNote" asp-controller="Comment" asp-route-id="@comment.CommentId" class="text-danger">Delete</a>
                    </span>
                }
            </div>
        </div>
    }
</div>
