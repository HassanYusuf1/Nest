@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <p>Welcome, @UserManager.GetUserName(User)!</p>
    <form method="post" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home")">
        <button type="submit" class="btn btn-link">Logout</button>
    </form>
}
else
{
    <div class="container d-flex align-items-center justify-content-center vh-100">
        <div class="card login-register-box">
            <div class="d-flex justify-content-between mb-4">
                <a href="#" class="btn btn-toggle active" id="loginTab">Logg inn</a>
                <a href="#" class="btn btn-toggle" id="registerTab">Registrer deg</a>
            </div>

            <!-- Logg inn Form -->
            <div id="loginForm" class="form-container active">
                <h4>Logg inn</h4>
                <form asp-area="Identity" asp-page="/Account/Login" method="post">
                    <div class="form-group">
                        <label for="email">E-post</label>
                        <input type="email" id="email" name="Input.Email" class="form-control" required />
                    </div>
                    <div class="form-group">
                        <label for="password">Passord</label>
                        <input type="password" id="password" name="Input.Password" class="form-control" required />
                    </div>
                    <div class="form-group form-check">
                        <input type="checkbox" id="rememberMe" name="Input.RememberMe" class="form-check-input" />
                        <label for="rememberMe" class="form-check-label">Husk meg</label>
                    </div>
                    <button type="submit" class="btn btn-primary">Logg inn</button>
                </form>
            </div>

            <!-- Registrer Form -->
            <div id="registerForm" class="form-container" style="display: none;">
                <h4>Registrer deg</h4>
                <form asp-area="Identity" asp-page="/Account/Register" method="post">
                    <div class="form-group">
                        <label for="registerEmail">E-post</label>
                        <input type="email" id="registerEmail" name="Input.Email" class="form-control" required />
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Passord</label>
                        <input type="password" id="registerPassword" name="Input.Password" class="form-control" required />
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Bekreft passord</label>
                        <input type="password" id="confirmPassword" name="Input.ConfirmPassword" class="form-control" required />
                    </div>
                    <button type="submit" class="btn btn-secondary">Registrer</button>
                </form>
            </div>
        </div>
    </div>
}
